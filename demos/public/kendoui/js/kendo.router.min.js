/*
* Kendo UI Complete v2013.3.1030 (http://kendoui.com)
* Copyright 2013 Telerik AD. All rights reserved.
*
* Kendo UI Complete commercial licenses may be obtained at
* https://www.kendoui.com/purchase/license-agreement/kendo-ui-complete-commercial.aspx
* If you do not own a commercial license, this file shall be governed by the trial license terms.
*/
!function(define){return define(["./kendo.core.min"],function(){!function(t){function n(t,n){if(!n)return t;t+"/"===n&&(t=n);var e=RegExp("^"+n,"i");return e.test(t)||(t=n+"/"+t),s.protocol+"//"+(s.host+"/"+t).replace(/\/\/+/g,"/")}function e(t,n){return 0===n.indexOf(t)?n.substr(t.length).replace(/\/\//g,"/"):t}var r=window.kendo,i="change",o="back",a=r.support,s=window.location,u=window.history,h=50,c=/^#*/,d=window.document,l=r.Class.extend({init:function(t){this.root=t},navigate:function(t){return u.pushState({},d.title,n(t,this.root)),this.current()},current:function(){var t=s.pathname;return s.search&&(t+=s.search),e(this.root,t)},change:function(n){t(window).bind("popstate.kendo",n)},stop:function(){t(window).unbind("popstate.kendo")}}),f=r.Class.extend({navigate:function(t){return s.hash=t,t},change:function(n){a.hashChange?t(window).bind("hashchange.kendo",n):this._interval=setInterval(n,h)},stop:function(){t(window).unbind("popstate.kendo"),clearInterval(this._interval)},current:function(){return s.hash.replace(c,"")}}),p=r.Observable.extend({start:function(r){var h,p,g,b,w,k;if(r=r||{},this.bind([i,o],r),!this._started){if(this._started=!0,h=s.pathname,p=s.hash,g=a.pushState&&r.pushState,b=r.root||"/",w=b===h,this.adapter=g?new l(b):new f,r.pushState&&!a.pushState&&!w)return s.replace(b+"#"+e(b,h)),!0;g&&(b===h+"/"&&(k=b),w&&p&&(k=n(p.replace(c,""),b)),k&&u.replaceState({},d.title,k)),this.root=b,this.current=this.adapter.current(),this.locations=[this.current],this.adapter.change(t.proxy(this,"_checkUrl"))}},stop:function(){this._started&&(this.adapter.stop(),this.unbind(i),this._started=!1)},change:function(t){this.bind(i,t)},navigate:function(t,n){return"#:back"===t?(u.back(),undefined):(t=t.replace(c,""),this.current!==t&&this.current!==decodeURIComponent(t)&&(n||!this.trigger(i,{url:t}))&&(this.current=this.adapter.navigate(t),this.locations.push(this.current)),undefined)},_checkUrl:function(){var t=this.adapter.current(),n=t===this.locations[this.locations.length-2],e=this.current;if(this.current!==t&&this.current!==decodeURIComponent(t))return this.current=t,n&&this.trigger("back",{url:e,to:t})?(u.forward(),this.current=e,undefined):this.trigger(i,{url:t})?(n?u.forward():u.back(),this.current=e,undefined):(n?this.locations.pop():this.locations.push(t),undefined)}});r.absoluteURL=n,r.history=new p}(window.kendo.jQuery),function(){function t(t,n){return n?t:"([^/]+)"}function n(n){return RegExp("^"+n.replace(l,"\\$&").replace(h,"(?:$1)?").replace(c,t).replace(d,"(.*?)")+"$")}var e=window.kendo,r=e.history,i=e.Observable,o="init",a="routeMissing",s="change",u="back",h=/\((.*?)\)/g,c=/(\(\?)?:\w+/g,d=/\*\w+/g,l=/[\-{}\[\]+?.,\\\^$|#\s]/g,f=e.Class.extend({init:function(t,e){t instanceof RegExp||(t=n(t)),this.route=t,this._callback=e},callback:function(t){for(var n=this.route.exec(t).slice(1),e=0,r=n.length;r>e;e++)void 0!==n[e]&&(n[e]=decodeURIComponent(n[e]));this._callback.apply(null,n)},worksWith:function(t){return this.route.test(t)?(this.callback(t),!0):!1}}),p=i.extend({init:function(t){i.fn.init.call(this),this.routes=[],this.pushState=t?t.pushState:!1,t&&t.root&&(this.root=t.root),this.bind([o,a,s],t)},destroy:function(){r.unbind(s,this._urlChangedProxy),r.unbind(u,this._backProxy),this.unbind()},start:function(){var t,n=this,e=function(t){n._back(t)},i=function(t){n._urlChanged(t)};r.start({change:i,back:e,pushState:n.pushState,root:n.root}),t={url:r.current||"/"},n.trigger(o,t)||n._urlChanged(t),this._urlChangedProxy=i,this._backProxy=e},route:function(t,n){this.routes.push(new f(t,n))},navigate:function(t,n){e.history.navigate(t,n)},_back:function(t){this.trigger(u,{url:t.url,to:t.to})&&t.preventDefault()},_urlChanged:function(t){var n,e,r,i,o=t.url;if(o||(o="/"),this.trigger(s,{url:t.url}))return t.preventDefault(),void 0;for(e=0,r=this.routes,i=r.length;i>e;e++)if(n=r[e],n.worksWith(o))return;this.trigger(a,{url:o})&&t.preventDefault()}});e.Router=p}()})}("function"==typeof define&&define.amd?define:function(t,n){return n()});
//@ sourceMappingURL=kendo.router.min.js.map